---
import Layout from '../../../layouts/Layout.astro';
import Quiz from '../../../components/Quiz.astro';
import { tenses } from '../../../data/tenses';
import { questionsByTense } from '../../../data/questions/index';

export function getStaticPaths() {
  return tenses.map(tense => ({
    params: { slug: tense.slug },
    props: { tense },
  }));
}

const { tense } = Astro.props;
const currentQuestions = questionsByTense[tense.slug] || [];
---

<Layout title={`Quiz: ${tense.name}`}>
  <div class="max-w-3xl mx-auto mb-8">
    <a href={`/tenses/${tense.slug}`} class="group inline-flex items-center gap-2 text-zinc-500 dark:text-zinc-400 hover:text-blue-600 dark:hover:text-blue-400 text-sm font-medium mb-4 transition-colors">
      <span class="w-6 h-6 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30 transition-colors">&larr;</span>
      Back to lesson
    </a>
    <h1 class="text-3xl md:text-4xl font-extrabold text-zinc-900 dark:text-white">{tense.name} <span class="text-blue-600 dark:text-blue-500">Quiz</span></h1>
  </div>

  <Quiz questions={currentQuestions} tenseName={tense.name} />
</Layout>
