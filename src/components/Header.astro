---
import ThemeToggle from './ThemeToggle.astro';
---
<header class="sticky top-0 z-50 w-full backdrop-blur-md bg-white/70 dark:bg-zinc-950/70 border-b border-zinc-200/50 dark:border-zinc-800/50">
  <div class="max-w-5xl mx-auto px-6 h-16 flex items-center justify-between">
    <a href="/" class="text-xl font-bold tracking-tight text-zinc-900 dark:text-white group flex items-center gap-2">
      <span class="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center text-white text-sm">TL</span>
      <span>Tense<span class="text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-500 transition-colors">Lab</span></span>
    </a>

    <div class="flex items-center gap-6">
      <nav class="hidden sm:flex gap-6 text-sm font-medium text-zinc-600 dark:text-zinc-400">
        <a href="/" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Home</a>
        <a href="/tenses" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Tenses</a>
      </nav>
      <div class="w-px h-6 bg-zinc-200 dark:bg-zinc-800 hidden sm:block"></div>
      <ThemeToggle />
      
      <!-- Mobile Menu Button -->
      <button id="mobile-menu-btn" class="sm:hidden p-2 text-zinc-500 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu Dropdown -->
  <div id="mobile-menu" class="hidden sm:hidden absolute top-16 left-0 w-full border-b border-zinc-200 dark:border-zinc-800 bg-white/95 dark:bg-zinc-950/95 backdrop-blur-md shadow-xl z-40">
    <nav class="flex flex-col p-4 gap-2">
      <a href="/" class="px-4 py-3 rounded-lg text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors">Home</a>
      <a href="/tenses" class="px-4 py-3 rounded-lg text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors">Tenses</a>
    </nav>
  </div>
</header>

<script is:inline>
  (() => {
    function initMobileMenu() {
      const btn = document.getElementById('mobile-menu-btn');
      const menu = document.getElementById('mobile-menu');
      
      if (!btn || !menu) return;

      // Close menu when clicking separate links
      const links = menu.querySelectorAll('a');
      links.forEach(link => {
        link.onclick = () => {
          menu.classList.add('hidden');
        };
      });

      btn.onclick = () => {
        menu.classList.toggle('hidden');
      };
    }
    
    // Initialize immediately
    initMobileMenu();
  })();
</script>
